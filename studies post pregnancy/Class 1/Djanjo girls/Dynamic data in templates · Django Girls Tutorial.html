<!DOCTYPE html>
<html lang="en"><head>
        <title>Dynamic data in templates Â· Django Girls Tutorial</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0">
        <meta name="author" content="DjangoGirls">
        
        
    
    <style class="anchorjs"></style><link rel="stylesheet" href="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/style.css">

    
            
                
                <link rel="stylesheet" href="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/plugin.css">
                
            
                
                <link rel="stylesheet" href="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/plugin_002.css">
                
            
                
                <link rel="stylesheet" href="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/sidebar-ad.css">
                
            
                
                <link rel="stylesheet" href="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/block.css">
                
            
                
                <link rel="stylesheet" href="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/website.css">
                
            
                
                <link rel="stylesheet" href="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/search.css">
                
            
                
                <link rel="stylesheet" href="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/website_002.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://tutorial.djangogirls.org/gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="http://tutorial.djangogirls.org/gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="http://tutorial.djangogirls.org/en/django_templates/">
    
    
    <link rel="prev" href="http://tutorial.djangogirls.org/en/django_orm/">
    

    </head>
    <body>
        
<div class="book without-animation with-summary font-size-2 font-family-1">
    <div class="book-summary">
        
  
            
<div id="book-search-input" role="search">
    <input placeholder="Type to search" type="text">
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://gitter.im/DjangoGirls/tutorial" target="_blank" class="custom-link">Need help? Talk to us!</a>
        </li>
    
        
        <li>
            <a href="https://www.gitbook.com/book/djangogirls/djangogirls-tutorial" target="_blank" class="custom-link">Django Girls Tutorial</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="http://tutorial.djangogirls.org/en/">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../installation/">
            
                <a href="http://tutorial.djangogirls.org/en/installation/">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../how_the_internet_works/">
            
                <a href="http://tutorial.djangogirls.org/en/how_the_internet_works/">
            
                    
                    How the Internet works
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../intro_to_command_line/">
            
                <a href="http://tutorial.djangogirls.org/en/intro_to_command_line/">
            
                    
                    Introduction to command line
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../python_installation/">
            
                <a href="http://tutorial.djangogirls.org/en/python_installation/">
            
                    
                    Python installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../code_editor/">
            
                <a href="http://tutorial.djangogirls.org/en/code_editor/">
            
                    
                    Code editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../python_introduction/">
            
                <a href="http://tutorial.djangogirls.org/en/python_introduction/">
            
                    
                    Introduction to Python
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../django/">
            
                <a href="http://tutorial.djangogirls.org/en/django/">
            
                    
                    What is Django?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../django_installation/">
            
                <a href="http://tutorial.djangogirls.org/en/django_installation/">
            
                    
                    Django installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../django_start_project/">
            
                <a href="http://tutorial.djangogirls.org/en/django_start_project/">
            
                    
                    Your first Django project!
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../django_models/">
            
                <a href="http://tutorial.djangogirls.org/en/django_models/">
            
                    
                    Django models
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../django_admin/">
            
                <a href="http://tutorial.djangogirls.org/en/django_admin/">
            
                    
                    Django admin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../deploy/">
            
                <a href="http://tutorial.djangogirls.org/en/deploy/">
            
                    
                    Deploy!
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../django_urls/">
            
                <a href="http://tutorial.djangogirls.org/en/django_urls/">
            
                    
                    Django urls
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="../django_views/">
            
                <a href="http://tutorial.djangogirls.org/en/django_views/">
            
                    
                    Django views - time to create!
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="../html/">
            
                <a href="http://tutorial.djangogirls.org/en/html/">
            
                    
                    Introduction to HTML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="../django_orm/">
            
                <a href="http://tutorial.djangogirls.org/en/django_orm/">
            
                    
                    Django ORM (Querysets)
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.18" data-path="./">
            
                <a href="http://tutorial.djangogirls.org/en/dynamic_data_in_templates/">
            
                    
                    Dynamic data in templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="../django_templates/">
            
                <a href="http://tutorial.djangogirls.org/en/django_templates/">
            
                    
                    Django templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="../css/">
            
                <a href="http://tutorial.djangogirls.org/en/css/">
            
                    
                    CSS - make it pretty
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="../template_extending/">
            
                <a href="http://tutorial.djangogirls.org/en/template_extending/">
            
                    
                    Template extending
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22" data-path="../extend_your_application/">
            
                <a href="http://tutorial.djangogirls.org/en/extend_your_application/">
            
                    
                    Extend your application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23" data-path="../django_forms/">
            
                <a href="http://tutorial.djangogirls.org/en/django_forms/">
            
                    
                    Django Forms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24" data-path="../whats_next/">
            
                <a href="http://tutorial.djangogirls.org/en/whats_next/">
            
                    
                    What's next?
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com/" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
  <div class="sidebar-addition">
      
        <a href="https://store.djangogirls.org/" target="_blank">
      
        <img src="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/codelikeagirl---mockup4_large.jpg">
      
        </a>
      
      
        <p>ðŸ’– Support our work and buy a Django Girls t-shirt! âœ¨</p>
      
      
      <a href="https://store.djangogirls.org/" class="btn" target="_blank">
        Get a t-shirt!
      </a>
      
  </div>

    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <a href="#" aria-label="" class="btn pull-left js-toolbar-action"><i class="fa fa-align-justify"></i></a><a href="#" aria-label="GitHub" class="btn pull-right js-toolbar-action"><i class="fa fa-github"></i></a><div class="dropdown pull-left language-picker js-toolbar-action"><a href="#" aria-label="Change language" class="btn toggle-dropdown"><i class="fa fa-globe"></i></a><div class="dropdown-menu dropdown-right"><div class="dropdown-caret"><span class="caret-outer"></span><span class="caret-inner"></span></div></div></div><div class="dropdown pull-right  js-toolbar-action"><a href="#" aria-label="Share" class="btn toggle-dropdown"><i class="fa fa-share-alt"></i></a><div class="dropdown-menu dropdown-left"><div class="dropdown-caret"><span class="caret-outer"></span><span class="caret-inner"></span></div><div class="buttons"><button class="button size-5 ">Facebook</button><button class="button size-5 ">Google+</button><button class="button size-5 ">Twitter</button><button class="button size-5 ">Weibo</button><button class="button size-5 ">Instapaper</button></div></div></div><a href="#" aria-label="" class="btn pull-right js-toolbar-action"><i class="fa fa-facebook"></i></a><a href="#" aria-label="" class="btn pull-right js-toolbar-action"><i class="fa fa-twitter"></i></a><div class="dropdown pull-left font-settings js-toolbar-action"><a href="#" aria-label="Font Settings" class="btn toggle-dropdown"><i class="fa fa-font"></i></a><div class="dropdown-menu dropdown-right"><div class="dropdown-caret"><span class="caret-outer"></span><span class="caret-inner"></span></div><div class="buttons"><button class="button size-2 font-reduce">A</button><button class="button size-2 font-enlarge">A</button></div><div class="buttons"><button class="button size-2 ">Serif</button><button class="button size-2 ">Sans</button></div><div class="buttons"><button class="button size-3 ">White</button><button class="button size-3 ">Sepia</button><button class="button size-3 ">Night</button></div></div></div><h1 id="dynamic-data-in-templates-1">
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="http://tutorial.djangogirls.org/en/">Dynamic data in templates</a>
    <a style="padding-left: 0.375em;" data-anchorjs-icon="#" aria-label="Anchor link for: dynamic data in templates 1" href="#dynamic-data-in-templates-1" class="anchorjs-link "></a></h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="dynamic-data-in-templates">Dynamic data in templates<a style="padding-left: 0.375em;" data-anchorjs-icon="#" aria-label="Anchor link for: dynamic data in templates" href="#dynamic-data-in-templates" class="anchorjs-link "></a></h1><p>We have different pieces in place: the <code>Post</code> model is defined in <code>models.py</code>, we have <code>post_list</code> in <code>views.py</code>
 and the template added. But how will we actually make our posts appear 
in our HTML template? Because that is what we want to do. Take some 
content (models saved in the database) and display it nicely in our 
template, right?</p><p>This is exactly what <em>views</em> are supposed to do: connect models and templates. In our <code>post_list</code> <em>view</em> we will need to take models we want to display and pass them to the template. In a <em>view</em> we decide what (model) will be displayed in a template.</p><p>OK, so how will we achieve it?</p><p>We need to open our <code>blog/views.py</code>. So far <code>post_list</code> <em>view</em> looks like this:</p><p></p><p class="code-label">blog/views.py</p><p></p><pre><code class="lang-python"><span class="hljs-keyword">from</span> django.shortcuts <span class="hljs-keyword">import</span> render

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">post_list</span><span class="hljs-params">(request)</span>:</span>
    <span class="hljs-keyword">return</span> render(request, <span class="hljs-string">'blog/post_list.html'</span>, {})</code></pre>
<p>Remember when we talked about including code written in different 
files? Now it is the moment when we have to include the model we have 
written in <code>models.py</code>. We will add this line <code>from .models import Post</code> like this:</p><p></p><p class="code-label">blog/views.py</p><p></p><pre><code class="lang-python"><span class="hljs-keyword">from</span> django.shortcuts <span class="hljs-keyword">import</span> render
<span class="hljs-keyword">from</span> .models <span class="hljs-keyword">import</span> Post</code></pre>
<p>The dot before <code>models</code> means <em>current directory</em> or <em>current application</em>. Both <code>views.py</code> and <code>models.py</code> are in the same directory. This means we can use <code>.</code> and the name of the file (without <code>.py</code>). Then we import the name of the model (<code>Post</code>).</p><p>But what's next? To take actual blog posts from <code>Post</code> model we need something called <code>QuerySet</code>.</p><h2 id="queryset">QuerySet<a style="padding-left: 0.375em;" data-anchorjs-icon="#" aria-label="Anchor link for: queryset" href="#queryset" class="anchorjs-link "></a></h2><p>You should already be familiar with how QuerySets work. We talked about it in <a href="http://tutorial.djangogirls.org/en/django_orm/">Django ORM (QuerySets) chapter</a>.</p><p>So now we want published blog posts sorted by <code>published_date</code>, right? We already did that in QuerySets chapter!</p><p></p><p class="code-label">blog/views.py</p><p></p><pre><code class="lang-python">Post.objects.filter(published_date__lte=timezone.now()).order_by(<span class="hljs-string">'published_date'</span>)</code></pre>
<p>Now we put this piece of code inside the <code>blog/views.py</code> file by adding it to the function <code>def post_list(request)</code>:</p><p></p><p class="code-label">blog/views.py</p><p></p><pre><code class="lang-python"><span class="hljs-keyword">from</span> django.shortcuts <span class="hljs-keyword">import</span> render
<span class="hljs-keyword">from</span> django.utils <span class="hljs-keyword">import</span> timezone
<span class="hljs-keyword">from</span> .models <span class="hljs-keyword">import</span> Post

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">post_list</span><span class="hljs-params">(request)</span>:</span>
    posts = Post.objects.filter(published_date__lte=timezone.now()).order_by(<span class="hljs-string">'published_date'</span>)
    <span class="hljs-keyword">return</span> render(request, <span class="hljs-string">'blog/post_list.html'</span>, {})</code></pre>
<p>Please note that we create a <em>variable</em> for our QuerySet: <code>posts</code>. Treat this as the name of our QuerySet. From now on we can refer to it by this name.</p><p>Also, the code uses the <code>timezone.now()</code> function, so we need to add an import for <code>timezone</code>.</p><p>The last missing part is passing the <code>posts</code> QuerySet to the template. Don't worry we will cover how to display it in a next chapter.</p><p>In the <code>render</code> function we already have parameter with <code>request</code> (so everything we receive from the user via the Internet) and a template file <code>'blog/post_list.html'</code>. The last parameter, which looks like this: <code>{}</code> is a place in which we can add some things for the template to use. We need to give them names (we will stick to <code>'posts'</code> right now :)). It should look like this: <code>{'posts': posts}</code>. Please note that the part before <code>:</code> is a string; you need to wrap it with quotes <code>''</code>.</p><p>So finally our <code>blog/views.py</code> file should look like this:</p><p></p><p class="code-label">blog/views.py</p><p></p><pre><code class="lang-python"><span class="hljs-keyword">from</span> django.shortcuts <span class="hljs-keyword">import</span> render
<span class="hljs-keyword">from</span> django.utils <span class="hljs-keyword">import</span> timezone
<span class="hljs-keyword">from</span> .models <span class="hljs-keyword">import</span> Post

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">post_list</span><span class="hljs-params">(request)</span>:</span>
    posts = Post.objects.filter(published_date__lte=timezone.now()).order_by(<span class="hljs-string">'published_date'</span>)
    <span class="hljs-keyword">return</span> render(request, <span class="hljs-string">'blog/post_list.html'</span>, {<span class="hljs-string">'posts'</span>: posts})</code></pre>
<p>That's it! Time to go back to our template and display this QuerySet!</p><p>Want to read a little bit more about QuerySets in Django? You should look here: <a href="https://docs.djangoproject.com/en/1.9/ref/models/querysets/" target="_blank">https://docs.djangoproject.com/en/1.9/ref/models/querysets/</a></p>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 id="results-matching" class="search-results-title"><span class="search-results-count"></span> results matching "<span class="search-query"></span>"<a style="padding-left: 0.375em;" data-anchorjs-icon="#" aria-label="Anchor link for: results matching" href="#results-matching" class="anchorjs-link "></a></h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 id="no-results-matching" class="search-results-title">No results matching "<span class="search-query"></span>"<a style="padding-left: 0.375em;" data-anchorjs-icon="#" aria-label="Anchor link for: no results matching" href="#no-results-matching" class="anchorjs-link "></a></h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="http://tutorial.djangogirls.org/en/django_orm/" class="navigation navigation-prev " aria-label="Previous page: Django ORM (Querysets)">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a style="margin-right: 0px;" href="http://tutorial.djangogirls.org/en/django_templates/" class="navigation navigation-next " aria-label="Next page: Django templates">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script src="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/analytics.js" async=""></script><script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Dynamic data in templates","level":"1.18","depth":1,"next":{"title":"Django templates","level":"1.19","depth":1,"path":"django_templates/README.md","ref":"django_templates/README.md","articles":[]},"previous":{"title":"Django ORM (Querysets)","level":"1.17","depth":1,"path":"django_orm/README.md","ref":"django_orm/README.md","articles":[]},"dir":"ltr"},"config":{"plugins":["heading-anchors@1.0.3","ga@1.0.1","richquotes@0.0.7","github@2.0.0","language-picker","sidebar-ad","codeblock-label",""],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"language-picker":{"grid-columns":3},"github":{"url":"https://github.com/DjangoGirls/tutorial"},"codeblock-label":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"richquotes":{"default":false},"heading-anchors":{},"sidebar-ad":{"imageUrl":"https://cdn.shopify.com/s/files/1/0992/7712/products/codelikeagirl---mockup4_large.jpg","url":"https://store.djangogirls.org/","description":"ðŸ’– Support our work and buy a Django Girls t-shirt! âœ¨","btnText":"Get a t-shirt!"},"highlight":{},"ga":{"configuration":"auto","token":"UA-51680040-3"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"github":"DjangoGirls/tutorial","theme":"default","author":"DjangoGirls","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Django Girls Tutorial","language":"en","links":{"sidebar":{"Need help? Talk to us!":"https://gitter.im/DjangoGirls/tutorial","Django Girls Tutorial":"https://www.gitbook.com/book/djangogirls/djangogirls-tutorial"},"gitbook":true},"gitbook":"*","description":"This book is a Django tutorial created for DjangoGirls event."},"file":{"path":"dynamic_data_in_templates/README.md","mtime":"2016-08-16T12:08:42.000Z","type":"markdown"},"gitbook":{"version":"3.2.0","time":"2016-08-16T12:09:40.212Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/gitbook.js"></script>
    <script src="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/theme.js"></script>
    
        
        <script src="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/anchor.js"></script>
        
    
        
        <script src="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/anchor-style.js"></script>
        
    
        
        <script src="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/plugin.js"></script>
        
    
        
        <script src="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/plugin_002.js"></script>
        
    
        
        <script src="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/plugin_003.js"></script>
        
    
        
        <script src="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/search-engine.js"></script>
        
    
        
        <script src="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/search.js"></script>
        
    
        
        <script src="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/lunr.js"></script>
        
    
        
        <script src="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/search-lunr.js"></script>
        
    
        
        <script src="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/buttons.js"></script>
        
    
        
        <script src="Dynamic%20data%20in%20templates%20%C2%B7%20Django%20Girls%20Tutorial_files/fontsettings.js"></script>
        
    

    


</body></html>